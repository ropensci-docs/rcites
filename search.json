[{"path":"https://docs.ropensci.org/rcites/CONDUCT.html","id":null,"dir":"","previous_headings":"","what":"Contributor Code of Conduct","title":"Contributor Code of Conduct","text":"contributors maintainers project, pledge respect people contribute reporting issues, posting feature requests, updating documentation, submitting pull requests patches, activities. committed making participation project harassment-free experience everyone, regardless level experience, gender, gender identity expression, sexual orientation, disability, personal appearance, body size, race, ethnicity, age, religion. Examples unacceptable behavior participants include use sexual language imagery, derogatory comments personal attacks, trolling, public private harassment, insults, unprofessional conduct. Project maintainers right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct. Project maintainers follow Code Conduct may removed project team. Instances abusive, harassing, otherwise unacceptable behavior may reported opening issue contacting one project maintainers. Code Conduct adapted Contributor Covenant (http://contributor-covenant.org), version 1.0.0, available http://contributor-covenant.org/version/1/0/0/","code":""},{"path":[]},{"path":[]},{"path":"https://docs.ropensci.org/rcites/CONTRIBUTING.html","id":"bugs","dir":"","previous_headings":"","what":"Bugs?","title":"CONTRIBUTING","text":"Submit issue Issues page sure include R session information reproducible example (repex).","code":""},{"path":[]},{"path":"https://docs.ropensci.org/rcites/CONTRIBUTING.html","id":"broad-overview-of-contributing-workflow","dir":"","previous_headings":"Code contributions","what":"Broad overview of contributing workflow","title":"CONTRIBUTING","text":"Fork repo Github account Clone version account machine account, e.g,. git clone https://github.com/<yourgithubusername>/rcites.git Make sure track progress upstream (.e., version rcites ropensci/rcites) git remote add upstream https://github.com/ropensci/rcites.git. making changes make sure pull changes upstream either git fetch upstream merge later git pull upstream fetch merge one step Make changes (bonus points making changes new feature branch) Please write test(s) changes affect code just docs (see Tests ) Push account Submit pull request home base ropensci/rcites","code":""},{"path":"https://docs.ropensci.org/rcites/CONTRIBUTING.html","id":"tests","dir":"","previous_headings":"Code contributions","what":"Tests","title":"CONTRIBUTING","text":"add tests, go folder tests/testthat/. Tests generally organized individual files exported function package (, listed export NAMESPACE file). adding new exported function, add new test file. changing existing function, work tests file function, unless doesn’t tests, case make new test file. book R packages book provides chapter testing general. consult first aren’t familiar testing R. easiest set run tests within R session: test individual test file run tests running tests skip_on_cran() , set Sys.setenv(NOT_CRAN = \"true\") prior running tests.","code":"library(devtools) library(testthat) # loads the package load_all() test_file(\"tests/testthat/test-foobar.R\") devtools::test()"},{"path":"https://docs.ropensci.org/rcites/CONTRIBUTING.html","id":"making-changes","dir":"","previous_headings":"Code contributions","what":"Making changes","title":"CONTRIBUTING","text":"addition changing code, make sure update documentation applicable. R packages book book chapter documentation read aren’t familiar. code documentation changed, update documentation running either devtools::document() roxygen2::roxygenise(). Make sure change packages even functions within packages imported, likely add package Imports DESCRIPTION file. conservative adding new dependencies.","code":""},{"path":"https://docs.ropensci.org/rcites/CONTRIBUTING.html","id":"style","dir":"","previous_headings":"Code contributions","what":"Style","title":"CONTRIBUTING","text":"Make sure code, documentation, comments 80 characters width; Use <- instead = assignment; Always use snake_case (lowercase) instead camelCase.","code":""},{"path":[]},{"path":[]},{"path":"https://docs.ropensci.org/rcites/articles/a_get_started.html","id":"get-your-personal-token","dir":"Articles","previous_headings":"Set up a connection to the Species+/CITES Checklist API","what":"Get your personal token","title":"Get started with rcites","text":"set connection Species+/CITES Checklist API, authentication token required. user obtain personal token run code (see https://api.speciesplus.net/documentation details). obtain token, sign Species+ API website.","code":""},{"path":"https://docs.ropensci.org/rcites/articles/a_get_started.html","id":"set-the-token","dir":"Articles","previous_headings":"Set up a connection to the Species+/CITES Checklist API","what":"Set the token","title":"Get started with rcites","text":"Now, assume already token. illustrative purposes, use generic token value 8QW6Qgh57sBG2k0gtt API documentation. token mandatory needs passed header URL requests. three different ways set token rcites: set environment variable SPECIESPLUS_TOKEN .Renviron file (preferred frequent users); use set_token() set token character string (quotes). entered function, token can passed without quotes (character string) prompt. way, token SPECIESPLUS_TOKEN interactively set current R session, meaning login required future R sessions (preferred); use token argument inside functions, .e. token passed manually function call. Note set wrong token wish set interactively, must first forget previous token forget_token().","code":"library(rcites) set_token(\"8QW6Qgh57sBG2k0gtt\")"},{"path":[]},{"path":[]},{"path":"https://docs.ropensci.org/rcites/articles/a_get_started.html","id":"basic-calls-to-spp_taxonconcept","dir":"Articles","previous_headings":"Use of key features > Retrieve a taxon identifiers with spp_taxonconcept()","what":"Basic calls to spp_taxonconcept()","title":"Get started with rcites","text":"order efficiently query information CITES database, first need retrieve unique taxon identifier taxon_id Species+ taxon concept. , first call spp_taxonconcept() provide scientific name taxon looking . Let us start requesting identifier African bush elephant, .e. Loxodonta africana. Note decide set token using third option, code look like one :","code":"res1 <- spp_taxonconcept(query_taxon = \"Loxodonta africana\") res1 <- spp_taxonconcept(query_taxon = \"Loxodonta africana\", token = \"8QW6Qgh57sBG2k0gtt\")"},{"path":"https://docs.ropensci.org/rcites/articles/a_get_started.html","id":"object-spp_taxonconcept","dir":"Articles","previous_headings":"Use of key features > Retrieve a taxon identifiers with spp_taxonconcept()","what":"Object spp_taxonconcept","title":"Get started with rcites","text":"res1 S3 object class spp_taxon: contains information sorted several data frames (see ?spp_taxonconcept details): taxa, one taxon identifier available. general active identifiers listed, full list identifiers available all_id: Also, taxon listed, warning message come .","code":"attributes(res1) #>  $names #>  [1] \"all_id\"         \"general\"        \"higher_taxa\"    \"accepted_names\" \"common_names\"   \"synonyms\"       #>  [7] \"cites_listings\" #>   #>  $class #>  [1] \"spp_taxon\" #>   #>  $taxonomy #>  [1] \"CITES\" res1 #>   #>  ── General info - CITES ($general): ────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 1 × 8 #>    id    full_name          author_year        rank    name_status updated_at          active cites_listing #>    <chr> <chr>              <chr>              <chr>   <chr>       <dttm>              <lgl>  <chr>         #>  1 4521  Loxodonta africana (Blumenbach, 1797) SPECIES A           2021-10-13 13:12:58 TRUE   I/II          #>   #>  ── Classification ($higher_taxa): ──────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 1 × 6 #>    id    kingdom  phylum   class    order       family       #>    <chr> <chr>    <chr>    <chr>    <chr>       <chr>        #>  1 4521  Animalia Chordata Mammalia Proboscidea Elephantidae #>   #>  ── Synonyms ($synonyms): ───────────────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 1 × 4 #>       id full_name          author_year      rank    #>    <int> <chr>              <chr>            <chr>   #>  1 37069 Loxodonta cyclotis (Matschie, 1900) SPECIES #>   #>  ── Common names ($common_names): ───────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 3 #>        id name               language #>     <int> <chr>              <chr>    #>   1  4521 Ndovo              SW       #>   2  4521 Tembo              SW       #>   3  4521 Haathi             UR       #>   4  4521 Elefante           PT       #>   5  4521 Slon               RU       #>   6  4521 Elefant            NO       #>   7  4521 Olifant            NL       #>   8  4521 Afrikaanse olifant NL       #>   9  4521 Elefante africano  ES       #>  10  4521 afrikansk elefant  SV       #>  -------truncated------- #>   #>  Information available: $all_id, $general, $higher_taxa, $accepted_names, $common_names, $synonyms, $cites_listings res3 <- spp_taxonconcept(query = \"Amazilia versicolor\") #>  ℹ Retrieving info from page 1 ........................ ✔ res3$general #>  # A tibble: 1 × 8 #>    id    full_name           author_year      rank    name_status updated_at          active cites_listing #>  * <chr> <chr>               <chr>            <chr>   <chr>       <dttm>              <lgl>  <chr>         #>  1 3210  Amazilia versicolor (Vieillot, 1818) SPECIES A           2015-05-07 15:10:59 TRUE   II res3$all_id #>  # A tibble: 2 × 7 #>    id    full_name           author_year      rank    name_status updated_at          active #>    <chr> <chr>               <chr>            <chr>   <chr>       <dttm>              <lgl>  #>  1 3210  Amazilia versicolor (Vieillot, 1818) SPECIES A           2015-05-07 15:10:59 TRUE   #>  2 65789 Amazilia versicolor (Vieillot, 1818) SPECIES S           2016-09-23 15:30:46 FALSE res4 <- spp_taxonconcept(query = \"Homo Sapiens\") #>  ℹ Retrieving info from page 1 ........................ ✔ #>  Warning in spp_taxonconcept(query = \"Homo Sapiens\"): Taxon not listed."},{"path":"https://docs.ropensci.org/rcites/articles/a_get_started.html","id":"custom-calls-to-spp_taxonconcept","dir":"Articles","previous_headings":"Use of key features > Retrieve a taxon identifiers with spp_taxonconcept()","what":"Custom calls to spp_taxonconcept()","title":"Get started with rcites","text":"spp_taxonconcept() includes several arguments retrieve specific subset information (see ?spp_taxonconcept details): importantly, argument taxonomy allows selection two databases (CITES CMS): language updated_since convenient filters written language common names (must two-letters code, see ISO 3166-1 alpha-2) last update entries, respectively:","code":"args('spp_taxonconcept') #>  function (query_taxon, taxonomy = \"CITES\", with_descendants = FALSE,  #>      language = NULL, updated_since = NULL, per_page = 500, pages = NULL,  #>      raw = FALSE, token = NULL, verbose = TRUE, pause = 1, ...)  #>  NULL spp_taxonconcept(query = \"Amazilia versicolor\", taxonomy = \"CMS\") #>  ℹ Retrieving info from page 1 ........................ ✔ #>  Warning in spp_taxonconcept(query = \"Amazilia versicolor\", taxonomy = \"CMS\"): Taxon not listed. #>  NULL spp_taxonconcept(query = \"Loxodonta africana\", taxonomy = \"CMS\") #>  ℹ Retrieving info from page 1 ........................ ✔ #>   #>  ── General info - CMS ($general): ──────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 1 × 7 #>    id    full_name          author_year        rank    name_status updated_at          active #>    <chr> <chr>              <chr>              <chr>   <chr>       <dttm>              <lgl>  #>  1 11691 Loxodonta africana (Blumenbach, 1797) SPECIES A           2021-05-06 12:44:13 TRUE   #>   #>  ── Classification ($higher_taxa): ──────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 1 × 6 #>    id    kingdom  phylum   class    order       family       #>    <chr> <chr>    <chr>    <chr>    <chr>       <chr>        #>  1 11691 Animalia Chordata Mammalia Proboscidea Elephantidae #>   #>  ── Synonyms ($synonyms): ───────────────────────────────────────────────────────────────────────────────────────────── #>  No records available. #>   #>  ── Common names ($common_names): ───────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 3 #>        id name               language #>     <int> <chr>              <chr>    #>   1 11691 Tembo              SW       #>   2 11691 Ndovo              SW       #>   3 11691 Haathi             UR       #>   4 11691 Elefante           PT       #>   5 11691 Slon               RU       #>   6 11691 Elefant            NO       #>   7 11691 Olifant            NL       #>   8 11691 Afrikaanse olifant NL       #>   9 11691 Elefante africano  ES       #>  10 11691 afrikansk elefant  SV       #>  -------truncated------- #>   #>  Information available: $all_id, $general, $higher_taxa, $accepted_names, $common_names, $synonyms spp_taxonconcept(query_taxon = \"Loxodonta africana\", language = 'EN',   updated_since = \"2016-01-01\") #>  ℹ Retrieving info from page 1 ........................ ✔ #>   #>  ── General info - CITES ($general): ────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 1 × 8 #>    id    full_name          author_year        rank    name_status updated_at          active cites_listing #>    <chr> <chr>              <chr>              <chr>   <chr>       <dttm>              <lgl>  <chr>         #>  1 4521  Loxodonta africana (Blumenbach, 1797) SPECIES A           2021-10-13 13:12:58 TRUE   I/II          #>   #>  ── Classification ($higher_taxa): ──────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 1 × 6 #>    id    kingdom  phylum   class    order       family       #>    <chr> <chr>    <chr>    <chr>    <chr>       <chr>        #>  1 4521  Animalia Chordata Mammalia Proboscidea Elephantidae #>   #>  ── Synonyms ($synonyms): ───────────────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 1 × 4 #>       id full_name          author_year      rank    #>    <int> <chr>              <chr>            <chr>   #>  1 37069 Loxodonta cyclotis (Matschie, 1900) SPECIES #>   #>  ── Common names ($common_names): ───────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 2 × 3 #>       id name                      language #>    <int> <chr>                     <chr>    #>  1  4521 African Elephant          EN       #>  2  4521 African Savannah Elephant EN       #>   #>  Information available: $all_id, $general, $higher_taxa, $accepted_names, $common_names, $synonyms, $cites_listings"},{"path":"https://docs.ropensci.org/rcites/articles/a_get_started.html","id":"retrieve-a-taxon-identifiers-available-data","dir":"Articles","previous_headings":"Use of key features","what":"Retrieve a taxon identifiers available data","title":"Get started with rcites","text":"order use four spp_* functions, one needs use active taxon identifier given species. instance, two species used examples use value indicated table :","code":""},{"path":"https://docs.ropensci.org/rcites/articles/a_get_started.html","id":"cites-legislation-data","dir":"Articles","previous_headings":"Use of key features > Retrieve a taxon identifiers available data","what":"CITES legislation data","title":"Get started with rcites","text":"First, can retrieve current CITES appendix listings reservations, CITES quotas, CITES suspensions given taxon concept.","code":"spp_cites_legislation(taxon_id = \"4521\", verbose = FALSE) #>   #>  ── Cites listings ($cites_listings): ───────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 6 #>     id    taxon_concept_id is_current appendix change_type effective_at #>     <chr> <chr>            <lgl>      <chr>    <chr>       <chr>        #>   1 30344 4521             TRUE       I        +           2017-01-02   #>   2 30115 4521             TRUE       II       +           2019-11-26   #>   3 32160 4521             TRUE       II       R+          2019-11-26   #>   4 32161 4521             TRUE       II       R+          2019-11-26   #>   5 32156 4521             TRUE       II       R+          2019-11-26   #>   6 32158 4521             TRUE       II       R+          2019-11-26   #>   7 32154 4521             TRUE       II       R+          2019-11-26   #>   8 32159 4521             TRUE       II       R+          2019-11-26   #>   9 32157 4521             TRUE       II       R+          2019-11-26   #>  10 32155 4521             TRUE       II       R+          2019-11-26   #>   #>  ── Cites quotas ($cites_quotas): ───────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 10 #>     id    taxon_concept_id quota publication_date public_display is_current unit  geo_entity.iso_code2 geo_entity.name  #>     <chr> <chr>            <chr> <chr>            <lgl>          <lgl>      <chr> <chr>                <chr>            #>   1 25337 4521             0     2021-02-03       TRUE           TRUE       <NA>  KE                   Kenya            #>   2 25348 4521             0     2021-02-03       TRUE           TRUE       <NA>  LR                   Liberia          #>   3 25355 4521             0     2021-02-03       TRUE           TRUE       <NA>  MW                   Malawi           #>   4 25358 4521             0     2021-02-03       TRUE           TRUE       <NA>  ML                   Mali             #>   5 25375 4521             0     2021-02-03       TRUE           TRUE       <NA>  MZ                   Mozambique       #>   6 25390 4521             0     2021-02-03       TRUE           TRUE       <NA>  AO                   Angola           #>   7 25414 4521             0     2021-02-03       TRUE           TRUE       <NA>  NE                   Niger            #>   8 25431 4521             0     2021-02-03       TRUE           TRUE       <NA>  NG                   Nigeria          #>   9 25554 4521             100   2021-02-03       TRUE           TRUE       <NA>  TZ                   United Republic… #>  10 25555 4521             300   2021-02-03       TRUE           TRUE       <NA>  ZA                   South Africa     #>  # … with 1 more variable: geo_entity.type <chr> #>  -------truncated------- #>  Field(s) not printed:  notes, url  #>   #>  ── Cites suspensions ($cites_suspensions): ─────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 8 #>     id    taxon_concept_id start_date is_current applies_to_import geo_entity.iso_code2 geo_entity.name geo_entity.type #>     <chr> <chr>            <chr>      <lgl>      <lgl>             <chr>                <chr>           <chr>           #>   1 17621 4521             2014-08-11 TRUE       TRUE              US                   United States … COUNTRY         #>   2 17620 4521             2014-08-11 TRUE       TRUE              US                   United States … COUNTRY         #>   3 17686 4521             2014-10-10 TRUE       TRUE              US                   United States … COUNTRY         #>   4 18709 4521             2010-08-16 TRUE       TRUE              ZW                   Zimbabwe        COUNTRY         #>   5 15983 <NA>             2011-01-19 TRUE       FALSE             DJ                   Djibouti        COUNTRY         #>   6 22079 <NA>             2018-01-30 TRUE       FALSE             DJ                   Djibouti        COUNTRY         #>   7 22076 <NA>             2018-01-22 TRUE       FALSE             LR                   Liberia         COUNTRY         #>   8 22132 4521             2018-03-19 TRUE       FALSE             AU                   Australia       COUNTRY         #>   9 23168 <NA>             2019-07-04 TRUE       FALSE             SO                   Somalia         COUNTRY         #>  10 24947 4521             2020-05-26 TRUE       TRUE              CN                   China           COUNTRY         #>  -------truncated------- #>  Field(s) not printed:  notes, start_notification.name, start_notification.date, start_notification.url"},{"path":"https://docs.ropensci.org/rcites/articles/a_get_started.html","id":"eu-legislation-data","dir":"Articles","previous_headings":"Use of key features > Retrieve a taxon identifiers available data","what":"EU legislation data","title":"Get started with rcites","text":"Similarly, can also retrieve current EU annex listings, SRG opinions, EU suspensions spp_eu_legislation. legislation functions scope argument sets time scope legislation take one value among current, historic (default set current). instance, one can get information pertaining EU annex listing Amazilia versicolor following command line:","code":"spp_eu_legislation(taxon_id = \"3210\", scope = \"all\", verbose = FALSE) #>   #>  ── EU listings ($eu_listings): ─────────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 6 #>     id    taxon_concept_id is_current annex change_type effective_at #>     <chr> <chr>            <lgl>      <chr> <chr>       <chr>        #>   1 17611 3210             FALSE      B     +           1997-06-01   #>   2 17610 3210             FALSE      B     +           2000-12-18   #>   3 17609 3210             FALSE      B     +           2003-08-30   #>   4 17608 3210             FALSE      B     +           2005-08-22   #>   5 17607 3210             FALSE      B     +           2008-04-11   #>   6 17606 3210             FALSE      B     +           2009-05-22   #>   7 17605 3210             FALSE      B     +           2010-08-15   #>   8 17604 3210             FALSE      B     +           2012-02-14   #>   9 17603 3210             FALSE      B     +           2012-12-15   #>  10 17602 3210             FALSE      B     +           2013-08-10   #>  -------truncated------- #>   #>  ── EU decisions ($eu_decisions): ───────────────────────────────────────────────────────────────────────────────────── #>  No records available."},{"path":"https://docs.ropensci.org/rcites/articles/a_get_started.html","id":"distribution-data","dir":"Articles","previous_headings":"Use of key features > Retrieve a taxon identifiers available data","what":"Distribution data","title":"Get started with rcites","text":"Distribution data country level also available given taxon concept:","code":"spp_distributions(\"4521\", verbose = FALSE) #>   #>  ── Distributions ($distributions): ─────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 5 #>        id iso_code2 name              type    tags  #>     <int> <chr>     <chr>             <chr>   <chr> #>   1  1778 ML        Mali              COUNTRY \"\"    #>   2  1923 GQ        Equatorial Guinea COUNTRY \"\"    #>   3  4429 RW        Rwanda            COUNTRY \"\"    #>   4  4491 GH        Ghana             COUNTRY \"\"    #>   5  5628 SD        Sudan             COUNTRY \"\"    #>   6  6724 ET        Ethiopia          COUNTRY \"\"    #>   7  8995 GA        Gabon             COUNTRY \"\"    #>   8 12983 AO        Angola            COUNTRY \"\"    #>   9 15554 CM        Cameroon          COUNTRY \"\"    #>  10 17060 BJ        Benin             COUNTRY \"\"    #>  -------truncated------- #>   #>  ── References ($references): ───────────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 2 #>        id reference                        #>     <int> <chr>                            #>   1  1778 Kingdon, J., Happold [truncated] #>   2  1923 Basilio, A. 1962. La [truncated] #>   3  4429 Jackson, P. 1982. El [truncated] #>   4  4429 Monfort, A. 1992. Pr [truncated] #>   5  4491 Grubb, P., Jones, T. [truncated] #>   6  4491 Jackson, P. 1982. El [truncated] #>   7  5628 Hameed, S.M.A. and E [truncated] #>   8  6724 Bolton, M. 1973. Not [truncated] #>   9  6724 Largen, M. J. and Ya [truncated] #>  10  6724 Meester, J. and Setz [truncated] #>  -------truncated-------"},{"path":"https://docs.ropensci.org/rcites/articles/a_get_started.html","id":"references","dir":"Articles","previous_headings":"Use of key features > Retrieve a taxon identifiers available data","what":"References","title":"Get started with rcites","text":"Finally, can retrieve available references given taxa.","code":"spp_references(\"4521\", verbose = FALSE) #>   #>  ── References ($references): ───────────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 3 #>     id    citation                                             is_standard #>     <chr> <chr>                                                <chr>       #>   1 10265 Anon. 1978. Red data book: Mammalia. IUC [truncated] FALSE       #>   2 6344  Barnes, R. F., Agnagna, M., Alers, M. P. [truncated] FALSE       #>   3 17013 Blanc, J.J., Thouless, C.R., Hart, J.A., [truncated] FALSE       #>   4 6371  Burton, M. P. 1994. Alternative projecti [truncated] FALSE       #>   5 6532  Douglas-Hamilton, I. 1987. African Eleph [truncated] FALSE       #>   6 6534  Douglas-Hamilton, I. 1987. African Eleph [truncated] FALSE       #>   7 6825  Jackson, P. 1982. Elephants and rhinos i [truncated] FALSE       #>   8 7224  Meester, J. and Setzer, H. W (eds.) 1974 [truncated] FALSE       #>   9 7609  Parker, I. and Amin, M. 1983. Ivory cris [truncated] FALSE       #>  10 19397 Parker, I.S.C. and Martin, E.B. 1982. Ho [truncated] FALSE       #>  -------truncated-------"},{"path":"https://docs.ropensci.org/rcites/articles/b_elephant.html","id":"introduction-and-setup","dir":"Articles","previous_headings":"","what":"Introduction and setup","title":"Study case: the African bush elephant (*Loxodonta africana*)","text":"vignettes “Get started rcites”, explained get token set general access CITES Species+ database. Also, briefly introduced code key features rcites. article, aim introduce functionality workflows rcites. , use African bush elephant (Loxodonta africana, hereafter “elephant”) case study. elephant highly endangered species illegally traded globally also flagship species nature conservation logo species CITES. start basic set : load package set token:","code":"library(rcites) set_token(\"8QW6Qgh57sBG2k0gtt\")"},{"path":"https://docs.ropensci.org/rcites/articles/b_elephant.html","id":"retrieve-the-taxon-id","dir":"Articles","previous_headings":"","what":"Retrieve the taxon id","title":"Study case: the African bush elephant (*Loxodonta africana*)","text":"order access information elephant, first need retrieve Species+ taxon identifier. , use spp_taxonconcept() function elephant’s scientific name, Loxodonta africana, query_taxon argument. first column output shows, taxon identifier elephant 4521. taxon_id used next function coding. Beyond taxon identifier, output also provides information taxon classification names, synonyms common names , different languages.","code":"elephant_taxonconcept <- spp_taxonconcept(query_taxon = \"Loxodonta africana\") #>  ℹ Retrieving info from page 1 ........................ ✔ elephant_taxonconcept #>   #>  ── General info - CITES ($general): ────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 1 × 8 #>    id    full_name          author_year        rank    name_status updated_at          active cites_listing #>    <chr> <chr>              <chr>              <chr>   <chr>       <dttm>              <lgl>  <chr>         #>  1 4521  Loxodonta africana (Blumenbach, 1797) SPECIES A           2021-10-13 13:12:58 TRUE   I/II          #>   #>  ── Classification ($higher_taxa): ──────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 1 × 6 #>    id    kingdom  phylum   class    order       family       #>    <chr> <chr>    <chr>    <chr>    <chr>       <chr>        #>  1 4521  Animalia Chordata Mammalia Proboscidea Elephantidae #>   #>  ── Synonyms ($synonyms): ───────────────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 1 × 4 #>       id full_name          author_year      rank    #>    <int> <chr>              <chr>            <chr>   #>  1 37069 Loxodonta cyclotis (Matschie, 1900) SPECIES #>   #>  ── Common names ($common_names): ───────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 3 #>        id name               language #>     <int> <chr>              <chr>    #>   1  4521 Ndovo              SW       #>   2  4521 Tembo              SW       #>   3  4521 Haathi             UR       #>   4  4521 Elefante           PT       #>   5  4521 Slon               RU       #>   6  4521 Elefant            NO       #>   7  4521 Olifant            NL       #>   8  4521 Afrikaanse olifant NL       #>   9  4521 Elefante africano  ES       #>  10  4521 afrikansk elefant  SV       #>  -------truncated------- #>   #>  Information available: $all_id, $general, $higher_taxa, $accepted_names, $common_names, $synonyms, $cites_listings"},{"path":"https://docs.ropensci.org/rcites/articles/b_elephant.html","id":"map-the-elephants-distribution","dir":"Articles","previous_headings":"Retrieve the taxon id","what":"Map the elephant’s distribution","title":"Study case: the African bush elephant (*Loxodonta africana*)","text":"giving insights legislation status elephant, look elephant actually occurs naturally. , can access elephant’s distribution information spp_distributions() function. Thereafter, can map distribution help rworldmap package.","code":"library(rworldmap)  par(las = 1) elephant_distr <- spp_distributions(taxon_id = \"4521\",                                     verbose = FALSE)$distributions  map2 <- joinCountryData2Map(elephant_distr,                             joinCode=\"ISO2\",                             nameJoinColumn = \"iso_code2\",                             nameCountryColumn = \"name\") #>  42 codes from your data successfully matched countries in the map #>  0 codes from your data failed to match with a country code in the map #>  201 codes from the map weren't represented in your data plot(c(-23, 62), c(45, -40),      type = \"n\",      main = \"Loxodonta africana\",      xlab = \"Longitude\",      ylab = \"Latitude\") plot(map2, add = TRUE) plot(map2[!is.na(map2$iso_code2),], col = \"#cba74d\", add = TRUE)"},{"path":"https://docs.ropensci.org/rcites/articles/b_elephant.html","id":"access-the-legislation-status","dir":"Articles","previous_headings":"Retrieve the taxon id","what":"Access the legislation status","title":"Study case: the African bush elephant (*Loxodonta africana*)","text":"functions spp_cites_legislation() spp_eu_legislation() provide access legislation status information elephant. First, look CITES legislation status: can elephant’s legislation status European Union: combination map2 legislation data, one might able illustrate elephant’s trade directions. use examples rcites data output added bit bit.","code":"elephant_cites <- spp_cites_legislation(taxon_id = \"4521\") #>  ℹ Now processing taxon_id '4521'...................... ✔ elephant_cites #>   #>  ── Cites listings ($cites_listings): ───────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 6 #>     id    taxon_concept_id is_current appendix change_type effective_at #>     <chr> <chr>            <lgl>      <chr>    <chr>       <chr>        #>   1 30344 4521             TRUE       I        +           2017-01-02   #>   2 30115 4521             TRUE       II       +           2019-11-26   #>   3 32160 4521             TRUE       II       R+          2019-11-26   #>   4 32161 4521             TRUE       II       R+          2019-11-26   #>   5 32156 4521             TRUE       II       R+          2019-11-26   #>   6 32158 4521             TRUE       II       R+          2019-11-26   #>   7 32154 4521             TRUE       II       R+          2019-11-26   #>   8 32159 4521             TRUE       II       R+          2019-11-26   #>   9 32157 4521             TRUE       II       R+          2019-11-26   #>  10 32155 4521             TRUE       II       R+          2019-11-26   #>   #>  ── Cites quotas ($cites_quotas): ───────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 10 #>     id    taxon_concept_id quota publication_date public_display is_current unit  geo_entity.iso_code2 geo_entity.name  #>     <chr> <chr>            <chr> <chr>            <lgl>          <lgl>      <chr> <chr>                <chr>            #>   1 25337 4521             0     2021-02-03       TRUE           TRUE       <NA>  KE                   Kenya            #>   2 25348 4521             0     2021-02-03       TRUE           TRUE       <NA>  LR                   Liberia          #>   3 25355 4521             0     2021-02-03       TRUE           TRUE       <NA>  MW                   Malawi           #>   4 25358 4521             0     2021-02-03       TRUE           TRUE       <NA>  ML                   Mali             #>   5 25375 4521             0     2021-02-03       TRUE           TRUE       <NA>  MZ                   Mozambique       #>   6 25390 4521             0     2021-02-03       TRUE           TRUE       <NA>  AO                   Angola           #>   7 25414 4521             0     2021-02-03       TRUE           TRUE       <NA>  NE                   Niger            #>   8 25431 4521             0     2021-02-03       TRUE           TRUE       <NA>  NG                   Nigeria          #>   9 25554 4521             100   2021-02-03       TRUE           TRUE       <NA>  TZ                   United Republic… #>  10 25555 4521             300   2021-02-03       TRUE           TRUE       <NA>  ZA                   South Africa     #>  # … with 1 more variable: geo_entity.type <chr> #>  -------truncated------- #>  Field(s) not printed:  notes, url  #>   #>  ── Cites suspensions ($cites_suspensions): ─────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 8 #>     id    taxon_concept_id start_date is_current applies_to_import geo_entity.iso_code2 geo_entity.name geo_entity.type #>     <chr> <chr>            <chr>      <lgl>      <lgl>             <chr>                <chr>           <chr>           #>   1 17621 4521             2014-08-11 TRUE       TRUE              US                   United States … COUNTRY         #>   2 17620 4521             2014-08-11 TRUE       TRUE              US                   United States … COUNTRY         #>   3 17686 4521             2014-10-10 TRUE       TRUE              US                   United States … COUNTRY         #>   4 18709 4521             2010-08-16 TRUE       TRUE              ZW                   Zimbabwe        COUNTRY         #>   5 15983 <NA>             2011-01-19 TRUE       FALSE             DJ                   Djibouti        COUNTRY         #>   6 22079 <NA>             2018-01-30 TRUE       FALSE             DJ                   Djibouti        COUNTRY         #>   7 22076 <NA>             2018-01-22 TRUE       FALSE             LR                   Liberia         COUNTRY         #>   8 22132 4521             2018-03-19 TRUE       FALSE             AU                   Australia       COUNTRY         #>   9 23168 <NA>             2019-07-04 TRUE       FALSE             SO                   Somalia         COUNTRY         #>  10 24947 4521             2020-05-26 TRUE       TRUE              CN                   China           COUNTRY         #>  -------truncated------- #>  Field(s) not printed:  notes, start_notification.name, start_notification.date, start_notification.url elephant_eu <- spp_eu_legislation(taxon_id = \"4521\") #>  ℹ Now processing taxon_id '4521'...................... ✔ elephant_eu #>   #>  ── EU listings ($eu_listings): ─────────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 2 × 6 #>    id    taxon_concept_id is_current annex change_type effective_at #>    <chr> <chr>            <lgl>      <chr> <chr>       <chr>        #>  1 31788 4521             TRUE       A     +           2019-12-14   #>  2 31876 4521             TRUE       B     +           2019-12-14   #>   #>  ── EU decisions ($eu_decisions): ───────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 15 #>     id    taxon_concept_id start_date is_current eu_decision_type… eu_decision_type… geo_entity.iso_c… geo_entity.name  #>     <chr> <chr>            <chr>      <lgl>      <chr>             <chr>             <chr>             <chr>            #>   1 26285 4521             2015-04-09 TRUE       Positive          POSITIVE_OPINION  ZW                Zimbabwe         #>   2 25508 4521             2014-09-03 TRUE       Positive          POSITIVE_OPINION  BW                Botswana         #>   3 11682 4521             2012-02-23 TRUE       Positive          POSITIVE_OPINION  NA                Namibia          #>   4 24825 4521             2014-05-28 TRUE       Positive          POSITIVE_OPINION  ZA                South Africa     #>   5 27017 4521             2015-09-15 TRUE       Positive          POSITIVE_OPINION  ZM                Zambia           #>   6 27360 4521             2016-06-27 TRUE       Negative          NEGATIVE_OPINION  MZ                Mozambique       #>   7 35567 4521             2020-03-03 TRUE       <NA>              <NA>              MZ                Mozambique       #>   8 30377 4521             2017-06-21 TRUE       Negative          NEGATIVE_OPINION  TZ                United Republic… #>   9 30553 4521             2017-06-21 TRUE       Positive          POSITIVE_OPINION  TZ                United Republic… #>  10 32143 4521             2019-10-17 TRUE       Suspension (a)    SUSPENSION        CM                Cameroon         #>  # … with 7 more variables: geo_entity.type <chr>, start_event.name <chr>, start_event.date <chr>, source.code <chr>, #>  #   source.name <chr>, term.code <chr>, term.name <chr> #>  Field(s) not printed:  notes, eu_decision_type.description, start_event.url"},{"path":"https://docs.ropensci.org/rcites/articles/b_elephant.html","id":"access-the-elephants-species-reference-data","dir":"Articles","previous_headings":"Retrieve the taxon id","what":"Access the elephant’s Species+ reference data","title":"Study case: the African bush elephant (*Loxodonta africana*)","text":"Last least, important identify references Species+ information elephant based . , can access Species+ reference data spp_references() function.","code":"elephant_refs <- spp_references(taxon_id = \"4521\", verbose = FALSE) elephant_refs #>   #>  ── References ($references): ───────────────────────────────────────────────────────────────────────────────────────── #>  # A tibble: 10 × 3 #>     id    citation                                             is_standard #>     <chr> <chr>                                                <chr>       #>   1 10265 Anon. 1978. Red data book: Mammalia. IUC [truncated] FALSE       #>   2 6344  Barnes, R. F., Agnagna, M., Alers, M. P. [truncated] FALSE       #>   3 17013 Blanc, J.J., Thouless, C.R., Hart, J.A., [truncated] FALSE       #>   4 6371  Burton, M. P. 1994. Alternative projecti [truncated] FALSE       #>   5 6532  Douglas-Hamilton, I. 1987. African Eleph [truncated] FALSE       #>   6 6534  Douglas-Hamilton, I. 1987. African Eleph [truncated] FALSE       #>   7 6825  Jackson, P. 1982. Elephants and rhinos i [truncated] FALSE       #>   8 7224  Meester, J. and Setzer, H. W (eds.) 1974 [truncated] FALSE       #>   9 7609  Parker, I. and Amin, M. 1983. Ivory cris [truncated] FALSE       #>  10 19397 Parker, I.S.C. and Martin, E.B. 1982. Ho [truncated] FALSE       #>  -------truncated------- dim(elephant_refs$references) #>  [1] 15  3"},{"path":"https://docs.ropensci.org/rcites/articles/c_bulk_analysis.html","id":"broad-taxon-concept-queries","dir":"Articles","previous_headings":"","what":"Broad taxon concept queries","title":"Bulk analysis with rcites","text":"want query taxa, can use spp_taxonconcept() query_taxon = \"\" (assuming token already set ): Alternatively, can retrieve, example, first three pages results returned API.","code":"res_cms <- spp_taxonconcept(\"\", taxonomy = \"CMS\") #slow #>  ℹ Retrieving info from page 1 ........................ ✔ #>  ℹ 10 pages available, retrieving info from 9 more #>  ℹ Retrieving info from page 2 ........................ ✔ #>  ℹ Retrieving info from page 3 ........................ ✔ #>  ℹ Retrieving info from page 4 ........................ ✔ #>  ℹ Retrieving info from page 5 ........................ ✔ #>  ℹ Retrieving info from page 6 ........................ ✔ #>  ℹ Retrieving info from page 7 ........................ ✔ #>  ℹ Retrieving info from page 8 ........................ ✔ #>  ℹ Retrieving info from page 9 ........................ ✔ #>  ℹ Retrieving info from page 10 ....................... ✔ dim(res_cms$general) #>  [1] 2541    7 res_cites <- spp_taxonconcept(\"\", page = 1:2) #>  ℹ Retrieving info from page 1 ........................ ✔ #>  ℹ 167 pages available, retrieving info from 1 more #>  ℹ Retrieving info from page 2 ........................ ✔ dim(res_cites$general) #>  [1] 1000    8"},{"path":"https://docs.ropensci.org/rcites/articles/c_bulk_analysis.html","id":"retrieving-information-for-a-set-of-taxon_concept-id","dir":"Articles","previous_headings":"","what":"Retrieving information for a set of taxon_concept ID","title":"Bulk analysis with rcites","text":"spp_ functions (.e. spp_distributions(), spp_eu_legislation(), spp_cites_legislation() spp_references()) can handle vector taxon_id allows bulk analysis. exemplify feature four functions.","code":""},{"path":"https://docs.ropensci.org/rcites/articles/c_bulk_analysis.html","id":"spp_distributions","dir":"Articles","previous_headings":"Retrieving information for a set of taxon_concept ID","what":"spp_distributions()","title":"Bulk analysis with rcites","text":"","code":"vc_txn <- c('4521', '3210', '10255') res1 <- spp_distributions(taxon_id = vc_txn, verbose = FALSE) ## Number of countries concerned per taxon ID table(res1$distributions$taxon_id) #>   #>  10255  3210  4521  #>     15     8    42"},{"path":"https://docs.ropensci.org/rcites/articles/c_bulk_analysis.html","id":"spp_cites_legislation","dir":"Articles","previous_headings":"Retrieving information for a set of taxon_concept ID","what":"spp_cites_legislation()","title":"Bulk analysis with rcites","text":"","code":"res2 <- spp_cites_legislation(taxon_id = vc_txn, verbose = FALSE) res2$cites_listings #>  # A tibble: 12 × 7 #>     taxon_id id    taxon_concept_id is_current appendix change_type effective_at #>     <chr>    <chr> <chr>            <lgl>      <chr>    <chr>       <chr>        #>   1 4521     30344 4521             TRUE       I        +           2017-01-02   #>   2 4521     30115 4521             TRUE       II       +           2019-11-26   #>   3 4521     32160 4521             TRUE       II       R+          2019-11-26   #>   4 4521     32161 4521             TRUE       II       R+          2019-11-26   #>   5 4521     32156 4521             TRUE       II       R+          2019-11-26   #>   6 4521     32158 4521             TRUE       II       R+          2019-11-26   #>   7 4521     32154 4521             TRUE       II       R+          2019-11-26   #>   8 4521     32159 4521             TRUE       II       R+          2019-11-26   #>   9 4521     32157 4521             TRUE       II       R+          2019-11-26   #>  10 4521     32155 4521             TRUE       II       R+          2019-11-26   #>  11 3210     4661  3210             TRUE       II       +           1987-10-22   #>  12 10255    4645  10255            TRUE       I        +           2005-01-12"},{"path":"https://docs.ropensci.org/rcites/articles/c_bulk_analysis.html","id":"spp_eu_legislation","dir":"Articles","previous_headings":"Retrieving information for a set of taxon_concept ID","what":"spp_eu_legislation()","title":"Bulk analysis with rcites","text":"","code":"res3 <- spp_eu_legislation(taxon_id = vc_txn, verbose = FALSE) res3$eu_listings #>  # A tibble: 4 × 7 #>    taxon_id id    taxon_concept_id is_current annex change_type effective_at #>    <chr>    <chr> <chr>            <lgl>      <chr> <chr>       <chr>        #>  1 4521     31788 4521             TRUE       A     +           2019-12-14   #>  2 4521     31876 4521             TRUE       B     +           2019-12-14   #>  3 3210     30578 3210             TRUE       B     +           2019-12-14   #>  4 10255    30516 10255            TRUE       A     +           2019-12-14"},{"path":"https://docs.ropensci.org/rcites/articles/c_bulk_analysis.html","id":"spp_references","dir":"Articles","previous_headings":"Retrieving information for a set of taxon_concept ID","what":"spp_references()","title":"Bulk analysis with rcites","text":"","code":"res4 <- spp_references(taxon_id = vc_txn, verbose = FALSE) ## Number of references per taxon ID table(res4$references$taxon_id) #>   #>  10255  3210  4521  #>      1     3    15"},{"path":"https://docs.ropensci.org/rcites/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Kevin Cazelles. Author, maintainer. Jonas Geschke. Author. Ignasi Bartomeus. Author. Jonathan Goldenberg. Contributor. Marie-Bé Leduc. Contributor. Yasmine Verzelen. Contributor. Noam Ross. Reviewer. Margaret Siple. Reviewer.","code":""},{"path":"https://docs.ropensci.org/rcites/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Geschke J, Cazelles K, Bartomeus , Goldenberg J, Leduc M, Verzelen Y, Ross N, Siple M (????). rcites: R package access CITES Species+ database. R package version 1.3.0.9000, https://docs.ropensci.org/rcites/.","code":"@Manual{,   title = {{rcites}: An R package to access the CITES Species+ database},   author = {Jonas Geschke and Kevin Cazelles and Ignasi Bartomeus and Jonathan Goldenberg and Marie-Bé Leduc and Yasmine Verzelen and Noam Ross and Margaret Siple},   note = {R package version 1.3.0.9000},   url = {https://docs.ropensci.org/rcites/}, }"},{"path":"https://docs.ropensci.org/rcites/index.html","id":"rcites-","dir":"","previous_headings":"","what":"R Interface to the Species+ Database","title":"R Interface to the Species+ Database","text":"R package access information Speciesplus database via Speciesplus/CITES Checklist API. package available download CRAN (stable version) Github (development version). Please see release paper background information Convention International Trade Endangered Species Wild Fauna Flora (CITES), Speciesplus database basic information aim package.","code":""},{"path":"https://docs.ropensci.org/rcites/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"R Interface to the Species+ Database","text":"package can installed CRAN: development version can installed via remotes 📦","code":"install.packages(\"rcites\") remotes::install_github(\"ropensci/rcites\")"},{"path":"https://docs.ropensci.org/rcites/index.html","id":"setup-requirements-and-use","dir":"","previous_headings":"","what":"Setup requirements and use","title":"R Interface to the Species+ Database","text":"set connection CITES Speciesplus database, personal authentication token required. Please see vignette details get token set token package use: Get started rcites Additional information specific use examples provided African bush elephant (Loxodonta africana). package usage querying multiple species described another vignette entitled ‘Bulk analysis rcites’.","code":""},{"path":"https://docs.ropensci.org/rcites/index.html","id":"key-features","dir":"","previous_headings":"","what":"Key features","title":"R Interface to the Species+ Database","text":"token set, package five key features: spp_taxonconcept(): access Speciesplus taxon concept retrieve taxon id spp_cites_legislation(): access CITES legislation data spp_eu_legislation(): access EU legislation data spp_distributions(): access taxon distribution data spp_references(): access listing reference data","code":""},{"path":"https://docs.ropensci.org/rcites/index.html","id":"prefix-information","dir":"","previous_headings":"","what":"Prefix information","title":"R Interface to the Species+ Database","text":"package functions three different prefixes: set_ set_token() initially set API token spp_ key features rcites_ helper functions called within key features","code":""},{"path":"https://docs.ropensci.org/rcites/index.html","id":"citation-information","dir":"","previous_headings":"","what":"Citation information","title":"R Interface to the Species+ Database","text":"citing, please refer package citation release paper.","code":""},{"path":"https://docs.ropensci.org/rcites/index.html","id":"contributors","dir":"","previous_headings":"","what":"Contributors","title":"R Interface to the Species+ Database","text":"Main contributors Reviewers package: Noam Ross Margaret Siple Editor: Scott Chamberlain Reporting issue(s): @FVFaleiro @eveskew @fleurhierink @wajra","code":""},{"path":"https://docs.ropensci.org/rcites/index.html","id":"resources","dir":"","previous_headings":"","what":"Resources","title":"R Interface to the Species+ Database","text":"Another package dealing data CITES, providing access wildlife trade database: cites creating package, greatly benefited : taxize inspired structuring repository/package; httr vignette: Managing secrets, extremely helpful packages dealing API.","code":""},{"path":"https://docs.ropensci.org/rcites/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"R Interface to the Species+ Database","text":"Please note project released Contributor Code Conduct. participating project agree abide terms. Also, please read Terms Conditions Use Speciesplus Data: https://speciesplus.net/terms--use.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://docs.ropensci.org/rcites/reference/print.spp.html","id":null,"dir":"Reference","previous_headings":"","what":"Print methods for objects of class spp_raw*. — print.spp","title":"Print methods for objects of class spp_raw*. — print.spp","text":"Print outputs Species+ API call.","code":""},{"path":"https://docs.ropensci.org/rcites/reference/print.spp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print methods for objects of class spp_raw*. — print.spp","text":"","code":"# S3 method for spp_raw print(x, ...)  # S3 method for spp_raw_multi print(x, ...)  # S3 method for spp_cites_leg print(x, ...)  # S3 method for spp_cites_leg_multi print(x, ...)  # S3 method for spp_distr print(x, ...)  # S3 method for spp_distr_multi print(x, ...)  # S3 method for spp_eu_leg print(x, ...)  # S3 method for spp_eu_leg_multi print(x, ...)  # S3 method for spp_refs print(x, ...)  # S3 method for spp_refs_multi print(x, ...)  # S3 method for spp_taxon print(x, ...)"},{"path":"https://docs.ropensci.org/rcites/reference/print.spp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print methods for objects of class spp_raw*. — print.spp","text":"x object class spp_raw*. ... ignored.","code":""},{"path":"https://docs.ropensci.org/rcites/reference/print.spp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print methods for objects of class spp_raw*. — print.spp","text":"JSON result.","code":""},{"path":"https://docs.ropensci.org/rcites/reference/rcites.html","id":null,"dir":"Reference","previous_headings":"","what":"rcites — rcites","title":"rcites — rcites","text":"programmatic interface Species+ https://speciesplus.net/ database via Species+/CITES Checklist API https://api.speciesplus.net/.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/rcites/reference/rcites.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"rcites — rcites","text":"Maintainer: Kevin Cazelles kevin.cazelles@gmail.com (ORCID) Authors: Jonas Geschke jonas.e.geschke@gmail.com (ORCID) Ignasi Bartomeus (ORCID) contributors: Jonathan Goldenberg [contributor] Marie-Bé Leduc [contributor] Yasmine Verzelen [contributor] Noam Ross [reviewer] Margaret Siple [reviewer]","code":""},{"path":"https://docs.ropensci.org/rcites/reference/set_token.html","id":null,"dir":"Reference","previous_headings":"","what":"Login helper function — set_token","title":"Login helper function — set_token","text":"Set forget authentification token current session.","code":""},{"path":"https://docs.ropensci.org/rcites/reference/set_token.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Login helper function — set_token","text":"","code":"set_token(token = NULL)  forget_token()"},{"path":"https://docs.ropensci.org/rcites/reference/set_token.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Login helper function — set_token","text":"token character string (quotes) containing token. NULL, token can passed without quotes (character string) prompt.","code":""},{"path":"https://docs.ropensci.org/rcites/reference/set_token.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Login helper function — set_token","text":"set_token(): set environment variable SPECIESPLUS_TOKEN. forget_token(): forget environment variable SPECIESPLUS_TOKEN.","code":""},{"path":"https://docs.ropensci.org/rcites/reference/set_token.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Login helper function — set_token","text":"https://api.speciesplus.net/documentation","code":""},{"path":"https://docs.ropensci.org/rcites/reference/set_token.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Login helper function — set_token","text":"","code":"if (FALSE) { # NB: the token below is not working and should not be used set_token(\"8QW6Qgh57sBG2k0gtt\") }"},{"path":"https://docs.ropensci.org/rcites/reference/spp_cites_legislation.html","id":null,"dir":"Reference","previous_headings":"","what":"Get current CITES appendix listings and reservations — spp_cites_legislation","title":"Get current CITES appendix listings and reservations — spp_cites_legislation","text":"Retrieve current CITES appendix listings reservations, CITES quotas, CITES suspensions given taxon concept.","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_cites_legislation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get current CITES appendix listings and reservations — spp_cites_legislation","text":"","code":"spp_cites_legislation(   taxon_id,   scope = \"current\",   language = \"en\",   raw = FALSE,   token = NULL,   verbose = TRUE,   pause = 1,   ... )"},{"path":"https://docs.ropensci.org/rcites/reference/spp_cites_legislation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get current CITES appendix listings and reservations — spp_cites_legislation","text":"taxon_id vector character strings containing species' taxon concept identifiers (see spp_taxonconcept()). scope vector character strings indicating time scope legislation, values taken among current, historic . Default current. language vector character strings indicating language text legislation notes, values taken among en (English), fr (French) es (Spanish). Default en. raw logical. raw data returned? token character string containing authentification token, see https://api.speciesplus.net/documentation. Default set NULL requires environment variable SPECIESPLUS_TOKEN set directly Renviron. Alternatively, set_token() can used set SPECIESPLUS_TOKEN current session. verbose logical. extra information reported progress? pause duration (second) suspend execution (see Sys.sleep()). added cause web API returns 404 error many requests short time interval. ... named parameters, see httr::GET().","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_cites_legislation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get current CITES appendix listings and reservations — spp_cites_legislation","text":"raw set TRUE object class spp_raw (spp_raw_multi length(taxon_id) > 1) returned essentially list lists (see option = 'parsed' httr::content()). Otherwise, object class spp_cites_leg (spp_cites_leg_multi length(taxon_id)>1) returned list three data frames: cites_listings: lists CITES annex listings EU suspensions, cites_quotas: lists CITES quotas, cites_suspensions: lists CITES suspensions.","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_cites_legislation.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get current CITES appendix listings and reservations — spp_cites_legislation","text":"https://api.speciesplus.net/documentation/v1/cites_legislation/index.html","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_cites_legislation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get current CITES appendix listings and reservations — spp_cites_legislation","text":"","code":"if (FALSE) { # this calls will only work if a token is set and valid res1 <- spp_cites_legislation(taxon_id = 4521) res2 <- spp_cites_legislation(taxon_id = c('4521', '3210', '10255')) res3 <- spp_cites_legislation(taxon_id = 4521, scope = 'all', verbose = FALSE, config=httr::verbose()) res4 <- spp_cites_legislation(taxon_id = 4521, language = 'fr') }"},{"path":"https://docs.ropensci.org/rcites/reference/spp_distributions.html","id":null,"dir":"Reference","previous_headings":"","what":"Get distributions data available for a given taxon concept — spp_distributions","title":"Get distributions data available for a given taxon concept — spp_distributions","text":"Retrieve distributions data available given taxon concept taxon identifier known.","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_distributions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get distributions data available for a given taxon concept — spp_distributions","text":"","code":"spp_distributions(   taxon_id,   language = \"en\",   raw = FALSE,   token = NULL,   verbose = TRUE,   pause = 1,   ... )"},{"path":"https://docs.ropensci.org/rcites/reference/spp_distributions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get distributions data available for a given taxon concept — spp_distributions","text":"taxon_id vector character strings containing species' taxon concept identifiers (see spp_taxonconcept()). language vector character strings indicating language names distributions, values taken among en (English), fr (French) es (Spanish). Default en. raw logical. raw data returned? token character string containing authentification token, see https://api.speciesplus.net/documentation. Default set NULL requires environment variable SPECIESPLUS_TOKEN set directly Renviron. Alternatively, set_token() can used set SPECIESPLUS_TOKEN current session. verbose logical. extra information reported progress? pause duration (second) suspend execution (see Sys.sleep()). added cause web API returns 404 error many requests short time interval. ... named parameters, see httr::GET().","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_distributions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get distributions data available for a given taxon concept — spp_distributions","text":"raw set TRUE object class spp_raw (spp_raw_multi length(taxon_id)>1) returned essentially list lists (see option = 'parsed' httr::content()). Otherwise, object class spp_distr (spp_distr_multi length(taxon_id) > 1) returned list two data frames: distributions: lists distributions given taxon concept, references: lists corresponding references. case taxon_id includes several elements","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_distributions.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get distributions data available for a given taxon concept — spp_distributions","text":"https://api.speciesplus.net/documentation/v1/distributions/index.html","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_distributions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get distributions data available for a given taxon concept — spp_distributions","text":"","code":"if (FALSE) {  # this calls will only work if a token is set and valid  res1 <- spp_distributions(taxon_id = '4521')  res2 <- spp_distributions(taxon_id = c('4521', '3210', '10255'))  res3 <- spp_distributions(taxon_id = '4521', raw = TRUE)  res4 <- spp_distributions(taxon_id = '4521', language = 'fr',  verbose = FALSE, config = httr::progress()) }"},{"path":"https://docs.ropensci.org/rcites/reference/spp_eu_legislation.html","id":null,"dir":"Reference","previous_headings":"","what":"Get current EU annex listings, SRG opinions, and EU suspensions — spp_eu_legislation","title":"Get current EU annex listings, SRG opinions, and EU suspensions — spp_eu_legislation","text":"Retrieve current EU annex listings, SRG opinions, EU suspensions given taxon concept (identifier must known).","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_eu_legislation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get current EU annex listings, SRG opinions, and EU suspensions — spp_eu_legislation","text":"","code":"spp_eu_legislation(   taxon_id,   scope = \"current\",   language = \"en\",   raw = FALSE,   token = NULL,   verbose = TRUE,   pause = 1,   ... )"},{"path":"https://docs.ropensci.org/rcites/reference/spp_eu_legislation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get current EU annex listings, SRG opinions, and EU suspensions — spp_eu_legislation","text":"taxon_id vector character strings containing species' taxon concept identifiers (see spp_taxonconcept()). scope vector character strings indicating time scope legislation, values taken among current, historic . Default set current. language vector character strings indicating language text legislation notes, values taken among en (English), fr (French) es (Spanish). Default en. raw logical. raw data returned? token character string containing authentification token, see https://api.speciesplus.net/documentation. Default set NULL requires environment variable SPECIESPLUS_TOKEN set directly Renviron. Alternatively, set_token() can used set SPECIESPLUS_TOKEN current session. verbose logical. extra information reported progress? pause duration (second) suspend execution (see Sys.sleep()). added cause web API returns 404 error many requests short time interval. ... named parameters, see httr::GET().","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_eu_legislation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get current EU annex listings, SRG opinions, and EU suspensions — spp_eu_legislation","text":"raw set TRUE object class spp_raw (spp_raw_multi length(taxon_id)>1) returned essentially list lists (see option = 'parsed' httr::content()). Otherwise, object class spp_eu_leg (spp_eu_leg_multi length(taxon_id)>1) returned list two data frames: eu_listings: lists EU annex listings EU suspensions, eu_decisions: lists EU decisions","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_eu_legislation.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get current EU annex listings, SRG opinions, and EU suspensions — spp_eu_legislation","text":"https://api.speciesplus.net/documentation/v1/eu_legislation/index.html","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_eu_legislation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get current EU annex listings, SRG opinions, and EU suspensions — spp_eu_legislation","text":"","code":"if (FALSE) { # this calls will only work if a token is set and valid res1 <- spp_eu_legislation(taxon_id = '4521') res2 <- spp_eu_legislation(taxon_id = c('4521', '3210', '10255')) res3 <- spp_eu_legislation(taxon_id = '4521', scope = 'historic') res4 <- spp_eu_legislation(taxon_id = '4521', scope = 'all', language='fr',  verbose = FALSE, config=httr::verbose()) }"},{"path":"https://docs.ropensci.org/rcites/reference/spp_references.html","id":null,"dir":"Reference","previous_headings":"","what":"Get references for a given taxon concept — spp_references","title":"Get references for a given taxon concept — spp_references","text":"Retrieve available references given taxon concept.","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_references.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get references for a given taxon concept — spp_references","text":"","code":"spp_references(   taxon_id,   raw = FALSE,   token = NULL,   verbose = TRUE,   pause = 1,   ... )"},{"path":"https://docs.ropensci.org/rcites/reference/spp_references.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get references for a given taxon concept — spp_references","text":"taxon_id vector character strings containing species' taxon concept identifiers (see spp_taxonconcept()). raw logical. raw data returned? token character string containing authentification token, see https://api.speciesplus.net/documentation. Default set NULL requires environment variable SPECIESPLUS_TOKEN set directly Renviron. Alternatively, set_token() can used set SPECIESPLUS_TOKEN current session. verbose logical. extra information reported progress? pause duration (second) suspend execution (see Sys.sleep()). added cause web API returns 404 error many requests short time interval. ... named parameters, see httr::GET().","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_references.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get references for a given taxon concept — spp_references","text":"raw set TRUE object class spp_raw (spp_raw_multi length(taxon_id) > 1) returned essentially list lists (see option = 'parsed' httr::content()). Otherwise, object class spp_refs (spp_refs_multi length(taxon_id) > 1) returned list one data frame: references includes identifier reference corresponding citation.","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_references.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get references for a given taxon concept — spp_references","text":"https://api.speciesplus.net/documentation/v1/references/index.html","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_references.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get references for a given taxon concept — spp_references","text":"","code":"if (FALSE) { # this calls will only work if a token is set and valid res1 <- spp_references(taxon_id = '4521') res2 <- spp_references(c('4521', '3210', '10255')) res3 <- spp_references(taxon_id = '4521', raw = TRUE, verbose = FALSE,  config = httr::progress()) }"},{"path":"https://docs.ropensci.org/rcites/reference/spp_taxonconcept.html","id":null,"dir":"Reference","previous_headings":"","what":"Get taxon concepts for a search term — spp_taxonconcept","title":"Get taxon concepts for a search term — spp_taxonconcept","text":"Retrieve taxon concept specific taxon (scientific name).","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_taxonconcept.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get taxon concepts for a search term — spp_taxonconcept","text":"","code":"spp_taxonconcept(   query_taxon,   taxonomy = \"CITES\",   with_descendants = FALSE,   language = NULL,   updated_since = NULL,   per_page = 500,   pages = NULL,   raw = FALSE,   token = NULL,   verbose = TRUE,   pause = 1,   ... )"},{"path":"https://docs.ropensci.org/rcites/reference/spp_taxonconcept.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get taxon concepts for a search term — spp_taxonconcept","text":"query_taxon character string containing query (e.g. species). Scientific taxa (max 255 characters). taxonomy filter taxon concepts taxonomy, accepts either 'CITES' 'CMS' value. Default sets 'CITES'. with_descendants logical. search name broadened include higher taxa? language filter languages returned common names. Value vector character strings including one country codes (two-letters country code ISO 3166-1 alpha-2). Default set NULL, showing available languages. updated_since timestamp. entries updated (including) timestamp pulled. per_page integer indicates many objects returned per page paginated responses. Default set 500 maximum. pages vector integer contains page numbers. Default set NULL, .e. pages accessed. raw logical. raw data returned? token character string containing authentification token, see https://api.speciesplus.net/documentation. Default set NULL requires environment variable SPECIESPLUS_TOKEN set directly Renviron. Alternatively, set_token() can used set SPECIESPLUS_TOKEN current session. verbose logical. extra information reported progress? pause duration (second) suspend execution (see Sys.sleep()). added cause web API returns 404 error many requests short time interval. ... named parameters, see httr::GET().","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_taxonconcept.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get taxon concepts for a search term — spp_taxonconcept","text":"raw = TRUE, object class spp_raw returned, list lists. raw = FALSE, object class spp_taxon returned, collection seven data frames: all_id: general information entries, including non-active taxon concepts, general: includes general information active taxon concepts, higher_taxa: includes taxonomy information, accepted_names: list accepted names (synonyms), common_names: list common names (accepted names), synonyms: list synonyms (accepted names), cites_listing: list current CITES listings annotations (missing taxonomy == 'CMS').","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_taxonconcept.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get taxon concepts for a search term — spp_taxonconcept","text":"https://api.speciesplus.net/documentation/v1/taxon_concepts/index.html","code":""},{"path":"https://docs.ropensci.org/rcites/reference/spp_taxonconcept.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get taxon concepts for a search term — spp_taxonconcept","text":"","code":"if (FALSE) { # this calls will only work if a token is set and valid res1 <- spp_taxonconcept(query_taxon = 'Loxodonta africana') res2 <- spp_taxonconcept(query_taxon = 'Amazilia versicolor', raw = TRUE) res3 <- spp_taxonconcept(query_taxon = '', taxonomy = 'CMS', pages = c(1, 3),  language = 'EN', config = httr::progress()) res4 <- spp_taxonconcept(query_taxon = '', per_page = 20, pages = 44) }"},{"path":"https://docs.ropensci.org/rcites/news/index.html","id":"rcites-130","dir":"Changelog","previous_headings":"","what":"rcites 1.3.0","title":"rcites 1.3.0","text":"CRAN release: 2023-02-12 set_token() now keeps prompting message long token empty character string also indicates token might valid. Minor code reformatting throughout code. Cassettes now recorded JSON (see #66).","code":""},{"path":"https://docs.ropensci.org/rcites/news/index.html","id":"rcites-120","dir":"Changelog","previous_headings":"","what":"rcites 1.2.0","title":"rcites 1.2.0","text":"CRAN release: 2021-11-04 Default branch now set main. synonyms properly formatted (see #65). print() methods tested (see #57). curl::curl_escape(x) used encode URL parts (see #63). Consistently uses message() console (see #60). Vignettes precomputed (see #58). Tests now uses vcr (now listed Suggests, see #56). Classes now tested properly (see #54). rcites_res() gains arguments verbose raw (see #43 #62). Request status now reported warn_for_status() rather stop_for_status(), prevents fast-failing batch mode (see #62).","code":""},{"path":"https://docs.ropensci.org/rcites/news/index.html","id":"rcites-110","dir":"Changelog","previous_headings":"","what":"rcites 1.1.0","title":"rcites 1.1.0","text":"CRAN release: 2020-07-01 Internal function rcites_simplify_distributions() re-written fix bug made spp_distributions() throw error taxon_id one distribution entry (see #53). spp_*() functions gain argument pause (see #50 #51 following issue reported @fleurhierink #49). Minor text editions documentation. Return empty data frame listing available given species (fix #47 reported @eveskew).","code":""},{"path":"https://docs.ropensci.org/rcites/news/index.html","id":"rcites-101","dir":"Changelog","previous_headings":"","what":"rcites 1.0.1","title":"rcites 1.0.1","text":"CRAN release: 2019-05-24","code":""},{"path":"https://docs.ropensci.org/rcites/news/index.html","id":"new-features-art-1-0-1","dir":"Changelog","previous_headings":"","what":"New features 🎨","title":"rcites 1.0.1","text":"clarify notes reported downloading material; color titles default print methods.","code":""},{"path":"https://docs.ropensci.org/rcites/news/index.html","id":"bugs-fixed-bug-1-0-1","dir":"Changelog","previous_headings":"","what":"Bugs fixed 🐛","title":"rcites 1.0.1","text":"Fix bug prevented spp_taxonconcept() downloading taxon concepts, see #42. Fix bug generated infinte recursion error using non-interactively without token, see #44.","code":""},{"path":"https://docs.ropensci.org/rcites/news/index.html","id":"rcites-100","dir":"Changelog","previous_headings":"","what":"rcites 1.0.0","title":"rcites 1.0.0","text":"CRAN release: 2018-11-17","code":""},{"path":"https://docs.ropensci.org/rcites/news/index.html","id":"new-features-art-1-0-0","dir":"Changelog","previous_headings":"","what":"New features 🎨","title":"rcites 1.0.0","text":"spp_taxonconcept() now includes auto-pagination allows retrieve entries queries 500 results; spp_taxonconcept(), spp_eu_legislation(), spp_cites_legislation() spp_references() now supports vectors taxon_id argument allows bulk analysis. spp_taxonconcept() returns object class spp_taxon; spp_cites_legislation() returns object class spp_cites_leg spp_cites_leg_multi; spp_eu_legislation() returns object class spp_eu_leg spp_eu_leg_multi; spp_distributions() returns object class spp_distr spp_distr_multi; spp_references() returns object class spp_refs spp_refs_multi; spp_raw class defined functions including argument raw, returns parsed output API list object.","code":""},{"path":"https://docs.ropensci.org/rcites/news/index.html","id":"new-function-arguments-1-0-0","dir":"Changelog","previous_headings":"","what":"New function arguments","title":"rcites 1.0.0","text":"taxonomy, with_descendants, language, updated_since, per_page, seq_page, raw, verbose spp_taxonconcept(); scope, language raw spp_cites_legislation(); scope, language raw spp_eu_legislation(); language raw spp_distributions().","code":""},{"path":"https://docs.ropensci.org/rcites/news/index.html","id":"function-renamed-1-0-0","dir":"Changelog","previous_headings":"","what":"Function renamed","title":"rcites 1.0.0","text":"set_token() instead sppplus_login(); spp_taxonconcept() instead sppplus_taxonconcept(); spp_cites_legislation() instead taxon_cites_legislation(); spp_eu_legislation() instead taxon_eu_legislation(); spp_distributions() instead taxon_distribution(); spp_references() instead taxon_references(); rcites_simplify() instead sppplus_simplify(); rcites_ instead sppplus_ helper functions.","code":""},{"path":"https://docs.ropensci.org/rcites/news/index.html","id":"using-goodpractice-1-0-0","dir":"Changelog","previous_headings":"","what":"Using goodpractice","title":"rcites 1.0.0","text":"use ‘<-’ assignment instead ‘=’, omit “Date” DESCRIPTION, avoid 1:length(...), 1:nrow(...), 1:ncol(...).","code":""},{"path":"https://docs.ropensci.org/rcites/news/index.html","id":"rcites-010","dir":"Changelog","previous_headings":"","what":"rcites 0.1.0","title":"rcites 0.1.0","text":"CRAN release: 2018-08-11","code":""},{"path":[]},{"path":"https://docs.ropensci.org/rcites/news/index.html","id":"features-art-0-1-0","dir":"Changelog","previous_headings":"","what":"Features 🎨","title":"rcites 0.1.0","text":"spp_taxonconcept( ): access Speciesplus taxon concept spp_cites_legislation( ): access CITES legislation data spp_eu_legislation( ): access EU legislation data spp_distributions( ): access taxon distribution data spp_references( ): access listing reference data","code":""}]
